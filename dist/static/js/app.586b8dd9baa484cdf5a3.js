webpackJsonp([1],{"1aLI":function(t,n){},BvYN:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},i=[],r={render:a,staticRenderFns:i};n.a=r},CYip:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowSelf,expression:"isShowSelf"}],staticClass:"modal",attrs:{rel:"modal"}},[e("div",{staticClass:"modal-content"},[e("h3",{staticClass:"c-red"},[t._v("历史最高分数:"+t._s(t.maxScore))]),t._v(" "),e("h1",{staticClass:"c-orange"},[t._v("\n      获得分数: "+t._s(t.gameScore)+"\n    ")]),t._v(" "),e("div",[e("button",{staticClass:"btn c-red2",on:{click:t.restart}},[t._v("重新开始")]),t._v(" "),e("button",{staticClass:"btn c-red1",on:{click:t.edit}},[t._v("退出游戏")])]),t._v(" "),t._m(0)])])},i=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"share"},[e("p",[t._v("分享到:")]),t._v(" "),e("span",[t._v("QQ")]),t._v(" "),e("span",[t._v("微信")]),t._v(" "),e("span",[t._v("微博")])])}],r={render:a,staticRenderFns:i};n.a=r},M93x:function(t,n,e){"use strict";function a(t){e("w1Az")}var i=e("xJD8"),r=e("BvYN"),o=e("VU/8"),s=a,l=o(i.a,r.a,s,null,null);n.a=l.exports},NDUu:function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("7+uW"),i=e("M93x"),r=e("YaEn");a.a.config.productionTip=!1,new a.a({el:"#app",router:r.a,template:"<App/>",components:{App:i.a}})},Ol9X:function(t,n,e){"use strict";function a(t){e("NDUu")}var i=e("uYo6"),r=e("CYip"),o=e("VU/8"),s=a,l=o(i.a,r.a,s,"data-v-35828a98",null);n.a=l.exports},YaEn:function(t,n,e){"use strict";var a=e("7+uW"),i=e("/ocq"),r=e("qSdX");a.a.use(i.a),n.a=new i.a({routes:[{path:"/",name:"Hello",component:r.a}]})},mwSY:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"hello"},[e("transition",{attrs:{name:"modalshow"}},[t.can_move?t._e():e("modal",{attrs:{"game-score":t.score_board,isShow:t.modalShow},on:{restartgame:t.againGame}})],1),t._v(" "),e("h1",{staticClass:"score"},[t._v("\n    Score: "),e("span",[t._v(t._s(t.score_board))])]),t._v(" "),e("div",{staticClass:"board"},t._l(t.initial_board,function(n,a){return n?e("span",{key:n.id,class:a+" value"+t.tile_value(n)},[t._v(t._s(t.tile_value(n)))]):t._e()})),t._v(" "),e("button",{staticClass:"btn",on:{click:t.againGame}},[t._v("重新开始")])],1)},i=[],r={render:a,staticRenderFns:i};n.a=r},pMZz:function(t,n,e){"use strict";function a(t,n,e){return t.map(function(t){return n.map(function(n){var a=[t,n];return e?a.reverse().join(""):a.join("")})})}var i=e("fZjL"),r=e.n(i),o=e("Ol9X"),s=a(["a","b","c","d"],["1","2","3","4"],!1),l=a(["a","b","c","d"],["4","3","2","1"],!1),u=a(["1","2","3","4"],["a","b","c","d"],!0),c=a(["1","2","3","4"],["d","c","b","a"],!0),d={a1:null,a2:null,a3:null,a4:null,b1:null,b2:null,b3:null,b4:null,c1:null,c2:null,c3:null,c4:null,d1:null,d2:null,d3:null,d4:null};n.a={name:"hello",data:function(){return{arr:["a1","a2","a3","b1","b2","b3","c1","c2","c4"],msg:"Welcome to 2048",initial_board:d,tile_counter:0,directions:{37:s,38:u,39:l,40:c},modalShow:!0}},computed:{score_board:function(){var t=this;return t.used_spaces(t.initial_board).map(function(n){return t.initial_board[n].values.reduce(function(t,n){return t+n})-t.initial_board[n].values[0]}).reduce(function(t,n){return t+n},0)},can_move:function(){var t=this,n=[u,c,s,l].reduce(function(n,e){return t.fold_board(n,e)},this.initial_board);return t.available_spaces(n).length>0}},methods:{fn:function(){return 1111},tile_value:function(t){return t?t.values[t.values.length-1]:null},fold_line:function(t,n){var e=n.map(function(n){return t[n]}).filter(function(t){return null!==t}),a=[];if(e)for(var i=0;i<e.length;i++){var r=e[i];if(r){var o=this.tile_value(r),s=e[i+1];s&&o==this.tile_value(s)?(i++,a.push({id:s.id,values:r.values.concat([2*o])})):a.push(r)}}var l={};return n.forEach(function(t,n){l[t]=a[n]||null}),l},fold_board:function(t,n){var e=t,a=this;return n.forEach(function(n){var i=a.fold_line(t,n);r()(i).forEach(function(t){e=a.set_tile(e,t,i[t])})}),e},available_spaces:function(t){return r()(t).filter(function(n){return null===t[n]})},used_spaces:function(t){return r()(t).filter(function(n){return null!==t[n]})},new_tile:function(t){return{id:this.tile_counter++,values:[t]}},set_tile:function(t,n,e){var a={};return r()(t).forEach(function(i){a[i]=i==n?e:t[i]}),a},same_board:function(t,n){return r()(t).reduce(function(e,a){return e&&t[a]==n[a]},!0)},setBoard:function(t){return!this.same_board(this.initial_board,t)&&(this.initial_board=t,!0)},keyHandler:function(t,n){var e=n||t.keyCode;this.directions[e]&&this.setBoard(this.fold_board(this.initial_board,this.directions[e]))&&setTimeout(function(){this.setBoard(this.addTile(this.initial_board))}.bind(this),100)},addTile:function(t){var n=this.available_spaces(t),e=n.length,a=Math.floor(Math.random()*e),i=n[a];if(i){var r=Math.floor(2*Math.random(),0)?2:4;return this.set_tile(t,i,this.new_tile(r))}return t},againGame:function(){this.initial_board=d,this.initial_board=this.addTile(this.addTile(this.initial_board)),this.modalShow=!0}},created:function(){var t=this;window.addEventListener("keydown",this.keyHandler,!1),this.initial_board=this.addTile(this.addTile(this.initial_board));var n,e,a,i;window.addEventListener("touchstart",function(t){n=t.targetTouches[0].clientX,e=t.targetTouches[0].clientY}),window.addEventListener("touchmove",function(t){a=t.targetTouches[0].clientX-n,i=t.targetTouches[0].clientY-e}),window.addEventListener("touchend",function(){a>0||(Math.abs(a)>Math.abs(i)?t.keyHandler(null,37):i>0?t.keyHandler(null,40):i<0&&t.keyHandler(null,38)),a<0||(Math.abs(a)>Math.abs(i)?t.keyHandler(null,39):i>0?t.keyHandler(null,40):i<0&&t.keyHandler(null,38))})},components:{Modal:o.a}}},qSdX:function(t,n,e){"use strict";function a(t){e("1aLI")}var i=e("pMZz"),r=e("mwSY"),o=e("VU/8"),s=a,l=o(i.a,r.a,s,"data-v-22b05e39",null);n.a=l.exports},uYo6:function(t,n,e){"use strict";n.a={props:["gameScore","isShow"],data:function(){return{isShowSelf:this.isShow}},computed:{maxScore:function(){return localStorage.maxScore}},methods:{edit:function(){this.isShowSelf=!1},restart:function(){this.$emit("restartgame")}}}},w1Az:function(t,n){},xJD8:function(t,n,e){"use strict";n.a={name:"app"}}},["NHnr"]);
//# sourceMappingURL=app.586b8dd9baa484cdf5a3.js.map