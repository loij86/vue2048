webpackJsonp([1],{"1aLI":function(t,n){},BvYN:function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],r={render:e,staticRenderFns:i};n.a=r},CYip:function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"modal",attrs:{rel:"modal"}},[a("div",{staticClass:"modal-content"},[a("h3",{staticClass:"c-red"},[t._v("历史最高分数:"+t._s(t.maxScore))]),t._v(" "),a("h1",{staticClass:"c-orange"},[t._v("\n      获得分数: "+t._s(t.gameScore)+"\n    ")]),t._v(" "),a("div",[a("button",{staticClass:"btn c-red2",on:{click:t.restart}},[t._v("重新开始")]),t._v(" "),a("button",{staticClass:"btn c-red1",on:{click:t.edit}},[t._v("退出游戏")])]),t._v(" "),t._m(0)])])},i=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"share"},[a("p",[t._v("分享到:")]),t._v(" "),a("span",[t._v("QQ")]),t._v(" "),a("span",[t._v("微信")]),t._v(" "),a("span",[t._v("微博")])])}],r={render:e,staticRenderFns:i};n.a=r},M93x:function(t,n,a){"use strict";function e(t){a("w1Az")}var i=a("xJD8"),r=a("BvYN"),o=a("VU/8"),l=e,s=o(i.a,r.a,l,null,null);n.a=s.exports},NDUu:function(t,n){},NHnr:function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=a("7+uW"),i=a("M93x"),r=a("YaEn");e.a.config.productionTip=!1,new e.a({el:"#app",router:r.a,template:"<App/>",components:{App:i.a}})},Ol9X:function(t,n,a){"use strict";function e(t){a("NDUu")}var i=a("uYo6"),r=a("CYip"),o=a("VU/8"),l=e,s=o(i.a,r.a,l,"data-v-35828a98",null);n.a=s.exports},YaEn:function(t,n,a){"use strict";var e=a("7+uW"),i=a("/ocq"),r=a("qSdX");e.a.use(i.a),n.a=new i.a({routes:[{path:"/",name:"Hello",component:r.a}]})},mwSY:function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"hello"},[t.can_move?t._e():a("modal",{attrs:{"game-score":t.score_board},on:{restartgame:t.againGame}}),t._v(" "),a("h1",{staticClass:"score"},[t._v("\n    Score: "),a("span",[t._v(t._s(t.score_board))])]),t._v(" "),a("div",{staticClass:"board"},t._l(t.initial_board,function(n,e){return n?a("span",{key:n.id,class:e+" value"+t.tile_value(n)},[t._v(t._s(t.tile_value(n)))]):t._e()})),t._v(" "),a("button",{staticClass:"btn",on:{click:t.againGame}},[t._v("重新开始")])],1)},i=[],r={render:e,staticRenderFns:i};n.a=r},pMZz:function(t,n,a){"use strict";function e(t,n,a){return t.map(function(t){return n.map(function(n){var e=[t,n];return a?e.reverse().join(""):e.join("")})})}var i=a("fZjL"),r=a.n(i),o=a("Ol9X"),l=e(["a","b","c","d"],["1","2","3","4"],!1),s=e(["a","b","c","d"],["4","3","2","1"],!1),c=e(["1","2","3","4"],["a","b","c","d"],!0),u=e(["1","2","3","4"],["d","c","b","a"],!0),d={a1:null,a2:null,a3:null,a4:null,b1:null,b2:null,b3:null,b4:null,c1:null,c2:null,c3:null,c4:null,d1:null,d2:null,d3:null,d4:null};n.a={name:"hello",data:function(){return{arr:["a1","a2","a3","b1","b2","b3","c1","c2","c4"],msg:"Welcome to 2048",initial_board:d,tile_counter:0,directions:{37:l,38:c,39:s,40:u},modalShow:!1}},computed:{score_board:function(){var t=this;return t.used_spaces(t.initial_board).map(function(n){return t.initial_board[n].values.reduce(function(t,n){return t+n})-t.initial_board[n].values[0]}).reduce(function(t,n){return t+n},0)},can_move:function(){var t=this,n=[c,u,l,s].reduce(function(n,a){return t.fold_board(n,a)},this.initial_board);return localStorage.maxScore?localStorage.maxScore=this.score_board>localStorage.maxScore?this.score_board:localStorage.maxScore:localStorage.maxScore=this.score_board,console.log(localStorage.maxScore),this.available_spaces(n).length>0}},methods:{fn:function(){return 1111},tile_value:function(t){return t?t.values[t.values.length-1]:null},fold_line:function(t,n){var a=n.map(function(n){return t[n]}).filter(function(t){return null!==t}),e=[];if(a)for(var i=0;i<a.length;i++){var r=a[i];if(r){var o=this.tile_value(r),l=a[i+1];l&&o==this.tile_value(l)?(i++,e.push({id:l.id,values:r.values.concat([2*o])})):e.push(r)}}var s={};return n.forEach(function(t,n){s[t]=e[n]||null}),s},fold_board:function(t,n){var a=t,e=this;return n.forEach(function(n){var i=e.fold_line(t,n);r()(i).forEach(function(t){a=e.set_tile(a,t,i[t])})}),a},available_spaces:function(t){return r()(t).filter(function(n){return null===t[n]})},used_spaces:function(t){return r()(t).filter(function(n){return null!==t[n]})},new_tile:function(t){return{id:this.tile_counter++,values:[t]}},set_tile:function(t,n,a){var e={};return r()(t).forEach(function(i){e[i]=i==n?a:t[i]}),e},same_board:function(t,n){return r()(t).reduce(function(a,e){return a&&t[e]==n[e]},!0)},setBoard:function(t){return!this.same_board(this.initial_board,t)&&(this.initial_board=t,!0)},keyHandler:function(t,n){var a=n||t.keyCode;this.directions[a]&&this.setBoard(this.fold_board(this.initial_board,this.directions[a]))&&setTimeout(function(){this.setBoard(this.addTile(this.initial_board))}.bind(this),100)},addTile:function(t){var n=this.available_spaces(t),a=n.length,e=Math.floor(Math.random()*a),i=n[e];if(i){var r=Math.floor(2*Math.random(),0)?2:4;return this.set_tile(t,i,this.new_tile(r))}return t},againGame:function(){this.initial_board=d,this.initial_board=this.addTile(this.addTile(this.initial_board)),this.modalShow=!1}},created:function(){var t=this;window.addEventListener("keydown",this.keyHandler,!1),this.initial_board=this.addTile(this.addTile(this.initial_board));var n,a,e,i;window.addEventListener("touchstart",function(t){n=t.targetTouches[0].clientX,a=t.targetTouches[0].clientY}),window.addEventListener("touchmove",function(t){e=t.targetTouches[0].clientX-n,i=t.targetTouches[0].clientY-a}),window.addEventListener("touchend",function(){e>0||(Math.abs(e)>Math.abs(i)?t.keyHandler(null,37):i>0?t.keyHandler(null,40):i<0&&t.keyHandler(null,38)),e<0||(Math.abs(e)>Math.abs(i)?t.keyHandler(null,39):i>0?t.keyHandler(null,40):i<0&&t.keyHandler(null,38))})},components:{Modal:o.a}}},qSdX:function(t,n,a){"use strict";function e(t){a("1aLI")}var i=a("pMZz"),r=a("mwSY"),o=a("VU/8"),l=e,s=o(i.a,r.a,l,"data-v-22b05e39",null);n.a=s.exports},uYo6:function(t,n,a){"use strict";n.a={props:["gameScore"],data:function(){return{isShowSelf:!0}},computed:{maxScore:function(){return localStorage.maxScore}},methods:{edit:function(){this.$emit("restartgame")},restart:function(){this.$emit("restartgame")}}}},w1Az:function(t,n){},xJD8:function(t,n,a){"use strict";n.a={name:"app"}}},["NHnr"]);
//# sourceMappingURL=app.b6a90179801d2902d6a1.js.map